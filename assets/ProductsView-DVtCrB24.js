import{c as i,o as l,a as e,_ as K,r as p,u as D,b as U,d as Y,e as q,m as I,f as S,g as Q,n as W,h as o,w as c,i as s,S as X,j as ee,F as m,k as f,l as w,Y as te,p as j,G as re,q as ae,t as v,s as b,v as le,x as se,T as ne,M as oe,y as ie,z as de,P as ce}from"./index-DR3PUBht.js";import{N as F,Q as N,V}from"./disclosure-D4x6rsqj.js";function ue(x,h){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function he(x,h){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z","clip-rule":"evenodd"})])}function G(x,h){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z","clip-rule":"evenodd"})])}function Z(x,h){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}function ge(x,h){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule":"evenodd"})])}const me={class:"min-h-screen bg-light-primary dark:bg-dark-secondary"},fe={class:"fixed inset-0 z-40 flex"},pe={class:"flex items-center justify-between px-4"},ve={class:"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700"},ke={role:"list",class:"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary"},xe=["onClick"],ye={class:"-mx-2 -my-3 flow-root"},be={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},_e={class:"ml-6 flex items-center"},we={class:"space-y-6"},Ce={class:"flex h-5 shrink-0 items-center"},$e={class:"group grid size-4 grid-cols-1"},Ae=["id","name","value","checked","onChange"],ze=["for"],Se={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Me={class:"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6"},Pe={class:"flex items-center"},Be={class:"py-1"},Ee=["onClick"],Le={type:"button",class:"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7"},je={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},Fe={class:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4"},Ne={class:"hidden lg:block"},Ve={role:"list",class:"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},Ge=["onClick"],Ze={class:"mt-2"},Je={class:"-my-3 flow-root"},He={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},Te={class:"ml-6 flex items-center"},Oe={class:"space-y-4"},Re={class:"flex h-5 shrink-0 items-center"},Ke={class:"group grid size-4 grid-cols-1"},De=["id","name","value","checked","onChange"],Ue=["for"],Ye={class:"lg:col-span-3"},qe={key:0,class:"text-center py-8"},Ie={key:1,class:"text-center py-8"},Qe={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},We={__name:"ProductsView",setup(x){const h=p([]),k=p([]),C=p(!0);D();const _=p(!1),M=p(null),J=p(null),g=U({metal:[],category:[],price:[]}),$=[{name:"Most Popular",href:"#",current:!0},{name:"Best Rating",href:"#",current:!1},{name:"Newest",href:"#",current:!1},{name:"Price: Low to High",href:"#",current:!1,sort:(a,t)=>a.price-t.price},{name:"Price: High to Low",href:"#",current:!1,sort:(a,t)=>t.price-a.price}],A=p($[0]),P=[{name:"Beaded Jewelry",href:"#",value:"Beaded Jewelry"},{name:"String Jewelry",href:"#",value:"String Jewelry"},{name:"Metal Jewelry",href:"#",value:"Metal Jewelry"},{name:"Gemstones",href:"#",value:"Gemstones"},{name:"Earrings",href:"#",value:"Earrings"},{name:"Necklaces",href:"#",value:"Necklaces"},{name:"Bracelets",href:"#",value:"Bracelets"},{name:"Rings",href:"#",value:"Rings"}],z=[{id:"metal",name:"Metal Type",options:[{value:"gold",label:"Gold",checked:!1},{value:"silver",label:"Sterling Silver",checked:!1},{value:"rose-gold",label:"Rose Gold",checked:!1},{value:"beads",label:"Glass Beads",checked:!1},{value:"gemstones",label:"Gemstones",checked:!1},{value:"pearls",label:"Pearls",checked:!1}]},{id:"style",name:"Style",options:[{value:"handcrafted",label:"Handcrafted",checked:!1},{value:"modern",label:"Modern",checked:!1},{value:"traditional",label:"Traditional",checked:!1},{value:"luxury",label:"Luxury",checked:!1}]},{id:"price",name:"Price Range",options:[{value:"under-5000",label:"Under KES 5,000",checked:!1},{value:"5000-10000",label:"KES 5,000 - 10,000",checked:!1},{value:"10000-20000",label:"KES 10,000 - 20,000",checked:!1},{value:"20000-plus",label:"KES 20,000+",checked:!1}]}],H=Y(()=>{let a=[...k.value];return g.metal.length>0&&(a=a.filter(t=>g.metal.includes(t.metal))),g.category.length>0&&(a=a.filter(t=>t.tags&&t.tags.some(d=>g.category.includes(d)))),g.price.length>0&&(a=a.filter(t=>{const d=t.price;return g.price.some(r=>r==="under-5000"?d<5e3:r==="5000-10000"?d>=5e3&&d<=1e4:r==="10000-20000"?d>=1e4&&d<=2e4:r==="20000-plus"?d>2e4:!1)})),A.value.sort&&(a=[...a].sort(A.value.sort)),a}),B=()=>{h.value=H.value},E=(a,t)=>{const d=g[a],r=d.indexOf(t);r===-1?d.push(t):d.splice(r,1),z.forEach(n=>{n.id===a&&n.options.forEach(u=>{u.checked=d.includes(u.value)})}),B()},L=a=>{g.category=[],h.value=k.value.filter(t=>t.category===a)},T=a=>{$.forEach(t=>t.current=t===a),A.value=a,B()};q(async()=>{C.value=!0;try{const a=await O();if(a.length>0)console.log("Loaded products from Firestore:",a.length),k.value=a,h.value=a;else{console.log("No products in Firestore, using mock data");const t=await I.getProducts();k.value=t||[],h.value=t||[]}console.log("Total products loaded:",h.value.length)}catch(a){console.error("Error loading products:",a),k.value=[],h.value=[]}finally{C.value=!1}});const O=async()=>{try{if(!S.getFirestore())return[];const t=S.getCollection("products"),d=await S.getDocuments(t);return d.empty?[]:d.docs.map(r=>{const n=r.data();return{id:r.id,...n,name:n.name||"Unnamed Product",price:n.price||0,category:n.category||"Uncategorized",description:n.description||"",images:n.images||[],image:n.images&&n.images.length>0?n.images[0].startsWith("base64://")?n.images[0].replace("base64://",""):n.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(a){return console.error("Error loading products from Firestore:",a),[]}};return(a,t)=>{var d;return l(),i("div",me,[M.value?(l(),i("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:J,style:W({backgroundImage:`url(${(d=M.value)==null?void 0:d.image})`})},null,4)):Q("",!0),e("div",null,[o(s(X),{as:"template",show:_.value},{default:c(()=>[o(s(te),{class:"relative z-40 lg:hidden",onClose:t[1]||(t[1]=r=>_.value=!1)},{default:c(()=>[o(s(j),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:c(()=>t[4]||(t[4]=[e("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),e("div",fe,[o(s(j),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:c(()=>[o(s(re),{class:"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl"},{default:c(()=>[e("div",pe,[t[6]||(t[6]=e("h2",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Filters",-1)),e("button",{type:"button",class:"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:t[0]||(t[0]=r=>_.value=!1)},[t[5]||(t[5]=e("span",{class:"sr-only"},"Close menu",-1)),o(s(ae),{class:"size-6","aria-hidden":"true"})])]),e("form",ve,[t[8]||(t[8]=e("h3",{class:"sr-only"},"Categories",-1)),e("ul",ke,[(l(),i(m,null,f(P,r=>e("li",{key:r.name},[e("a",{href:"#",onClick:w(n=>L(r.value),["prevent"]),class:"block px-2 py-3"},v(r.name),9,xe)])),64))]),(l(),i(m,null,f(z,r=>o(s(F),{as:"div",key:r.id,class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6"},{default:c(({open:n})=>[e("h3",ye,[o(s(N),{class:"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300"},{default:c(()=>[e("span",be,v(r.name),1),e("span",_e,[n?(l(),b(s(G),{key:1,class:"size-5","aria-hidden":"true"})):(l(),b(s(Z),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),o(s(V),{class:"pt-6"},{default:c(()=>[e("div",we,[(l(!0),i(m,null,f(r.options,(u,y)=>(l(),i("div",{key:u.value,class:"flex gap-3"},[e("div",Ce,[e("div",$e,[e("input",{id:`filter-mobile-${r.id}-${y}`,name:`${r.id}[]`,value:u.value,type:"checkbox",checked:u.checked,onChange:R=>E(r.id,u.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,Ae),t[7]||(t[7]=e("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[e("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),e("label",{for:`filter-mobile-${r.id}-${y}`,class:"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400"},v(u.label),9,ze)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),e("main",Se,[e("div",Me,[t[12]||(t[12]=e("h1",{class:"text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},"Our Jewelry Collection",-1)),e("div",Pe,[o(s(ee),{as:"div",class:"relative inline-block text-left"},{default:c(()=>[e("div",null,[o(s(le),{class:"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},{default:c(()=>[t[9]||(t[9]=se(" Sort ")),o(s(ue),{class:"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500","aria-hidden":"true"})]),_:1})]),o(ne,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:c(()=>[o(s(oe),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden"},{default:c(()=>[e("div",Be,[(l(),i(m,null,f($,r=>o(s(ie),{key:r.name},{default:c(({active:n})=>[e("a",{href:"#",onClick:w(u=>T(r),["prevent"]),class:de([r.current?"font-medium text-light-text-primary dark:text-dark-text-primary":"text-light-text-secondary dark:text-dark-text-secondary",n?"bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden":"","block px-4 py-2 text-sm"])},v(r.name),11,Ee)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),e("button",Le,[t[10]||(t[10]=e("span",{class:"sr-only"},"View grid",-1)),o(s(ge),{class:"size-5","aria-hidden":"true"})]),e("button",{type:"button",class:"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden",onClick:t[2]||(t[2]=r=>_.value=!0)},[t[11]||(t[11]=e("span",{class:"sr-only"},"Filters",-1)),o(s(he),{class:"size-5","aria-hidden":"true"})])])]),e("section",je,[t[17]||(t[17]=e("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),e("div",Fe,[e("form",Ne,[t[14]||(t[14]=e("h3",{class:"sr-only"},"Categories",-1)),e("ul",Ve,[(l(),i(m,null,f(P,r=>e("li",{key:r.name},[e("a",{href:"#",onClick:w(n=>L(r.value),["prevent"])},v(r.name),9,Ge)])),64)),e("li",Ze,[e("a",{href:"#",onClick:t[3]||(t[3]=w(r=>h.value=k.value,["prevent"])),class:"text-accent-primary hover:text-accent-secondary"}," View All ")])]),(l(),i(m,null,f(z,r=>o(s(F),{as:"div",key:r.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6"},{default:c(({open:n})=>[e("h3",Je,[o(s(N),{class:"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500"},{default:c(()=>[e("span",He,v(r.name),1),e("span",Te,[n?(l(),b(s(G),{key:1,class:"size-5","aria-hidden":"true"})):(l(),b(s(Z),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),o(s(V),{class:"pt-6"},{default:c(()=>[e("div",Oe,[(l(!0),i(m,null,f(r.options,(u,y)=>(l(),i("div",{key:u.value,class:"flex gap-3"},[e("div",Re,[e("div",Ke,[e("input",{id:`filter-${r.id}-${y}`,name:`${r.id}[]`,value:u.value,type:"checkbox",checked:u.checked,onChange:R=>E(r.id,u.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,De),t[13]||(t[13]=e("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[e("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),e("label",{for:`filter-${r.id}-${y}`,class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},v(u.label),9,Ue)]))),128))])]),_:2},1024)]),_:2},1024)),64))]),e("div",Ye,[C.value?(l(),i("div",qe,t[15]||(t[15]=[e("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"Loading products...",-1)]))):h.value.length===0?(l(),i("div",Ie,t[16]||(t[16]=[e("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"No products found.",-1)]))):(l(),i("div",Qe,[(l(!0),i(m,null,f(h.value,r=>(l(),b(ce,{key:r.id,product:r},null,8,["product"]))),128))]))])])])])])])}}},tt=K(We,[["__scopeId","data-v-1299a555"]]);export{tt as default};
